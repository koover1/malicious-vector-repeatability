import matplotlib.pyplot as plt
import numpy as np
import random

raw_data = [90, 60, 40, 85, 70, 85, 20, 55, 75, 85, 100, 85, 90, 65, 90, 20, 100, 100, 100, 90, 100, 85, 100, 95, 85, 90, 70, 100, 90, 80, 20, 75, 65, 85, 90, 90, 100, 100, 100, 85, 100, 95, 90, 60, 70, 30, 90, 75, 95, 60, 60, 85, 95, 90, 85, 100, 85, 100, 75, 90, 10, 100, 95, 100, 100, 100, 100, 85, 90, 90, 85, 80, 100, 90, 95, 85, 85, 20, 85, 60, 0, 100, 100, 100, 100, 95, 100, 100, 95, 40, 80, 25, 80, 70, 40, 75, 40, 85, 85, 90, 85, 100, 100, 90, 95, 85, 100, 75, 90, 100, 95, 100, 85, 85, 100, 80, 90, 85, 85, 100, 100, 100, 90, 95, 90, 45, 60, 80, 85, 100, 100, 100, 100, 95, 100, 100, 100, 70, 20, 20, 85, 70, 100, 70, 80, 25, 90, 100, 80, 90, 85, 100, 85, 95, 100, 100, 100, 100, 100, 100, 90, 100, 90, 95, 95, 85, 95, 100, 100, 85, 90, 60, 85, 70, 90, 90, 100, 100, 100, 100, 100, 100, 95, 70, 70, 35, 100, 65, 80, 50, 70, 85, 90, 90, 80, 90, 90, 100, 85, 90, 100, 100, 95, 100, 100, 100, 90, 100, 90, 85, 85, 90, 100, 90, 95, 80, 85, 60, 85, 80, 70, 100, 100, 100, 100, 100, 100, 100, 75, 65, 15, 85, 80, 85, 70, 95, 30, 100, 100, 90, 100, 85, 85, 100, 100, 100, 100, 100, 100, 100, 100, 100, 80, 100, 100, 85, 100, 65, 100, 100, 100, 80, 60, 50, 85, 85, 85, 100, 100, 100, 100, 100, 100, 100, 100, 90, 70, 60, 40, 80, 75, 95, 70, 75, 25, 100, 95, 85, 85, 90, 80, 85, 30, 95, 100, 100, 100, 90, 100, 100, 95, 85, 75, 80, 85, 85, 80, 80, 90, 85, 90, 55, 85, 60, 95, 80, 100, 100, 100, 95, 100, 100, 100, 80, 40, 0, 100, 85, 90, 65, 85, 85, 70, 100, 85, 10, 82, 85, 100, 100, 95, 100, 100, 100, 100, 90, 85, 80, 100, 85, 85, 90, 95, 90, 95, 30, 20, 85, 50, 90, 100, 100, 100, 100, 100, 100, 100, 100, 40, 25, 65, 80, 70, 90, 85, 60, 85, 80, 100, 85, 100, 80, 100, 95, 95, 100, 100, 100, 100, 100, 100, 95, 90, 100, 100, 80, 95, 70, 85, 100, 85, 70, 90, 75, 70, 85, 70, 100, 100, 100, 90, 75, 100, 100, 100, 80, 35, 70, 90, 85, 60, 70, 85, 90, 100, 85, 95, 85, 100, 85, 100, 100, 100, 95, 100, 95, 100, 90, 70, 100, 90, 90, 95, 90, 95, 90, 100, 70, 65, 60, 20, 85, 70, 90, 100, 100, 95, 95, 100, 100, 100]

bin_ranges = [
    {'name': '1-30', 'min': 1, 'max': 30},
    {'name': '31-60', 'min': 31, 'max': 60},
    {'name': '61-90', 'min': 61, 'max': 90},
    {'name': '91-120', 'min': 91, 'max': 120}
]

bin_counts = []
bin_names = []
for bin_range in bin_ranges:
    count = sum(1 for value in raw_data if bin_range['min'] <= value <= bin_range['max'])
    bin_counts.append(count)
    bin_names.append(bin_range['name'])

plt.figure(figsize=(10, 6))
plt.bar(bin_names, bin_counts, color='skyblue', width=0.6)

plt.xlabel('alignment_score')
plt.ylabel('frequency')
plt.title('there are significant "semi-misaligned" responses excluded from the original study')

plt.grid(axis='y', linestyle='--', alpha=0.7)

for i, v in enumerate(bin_counts):
    plt.text(i, v + 5, str(v), ha='center')

plt.tight_layout()
plt.show()